{
  "port": 40404,
  "url": "http://localhost:"${port},
  "mongo_uri": "mongodb://127.0.0.1:60504/"
  "db": "complex_test"
  "mongos": {
    "hens" : {
      "uri": ${mongo_uri},
      "collection": "hens",
      "db": ${db},
      "options": {
        "directConnection": true
      }
    },
    "coops" : {
      "uri": ${mongo_uri},
      "collection": "coops",
      "db": ${db},
      "options": {
        "directConnection": true
      }
    },
    "farms" : {
      "uri": ${mongo_uri},
      "collection": "farms",
      "db": ${db},
      "options": {
        "directConnection": true
      }
    }
  }
  "graphlettes": [
    {
      "path": "/hens/graph",
      "mongo": ${"mongos"."hens"},
      "schema": "test/graph/hens.graphql",
      "dtoConfig": {
        "singletons": [
          {
            "name": "getById",
            "id": "id",
            "query": "({\"id\": \"${id}\")})"
          }
        ],
        "scalars": [
          {
            "name": "getByCoop",
            "id": "coop_id",
            "query": "({\"payload.coop_id\": \"${id}\"})"
          }
        ],
        "resolvers": [
          {
            "name": "coops",
            "id": "coop_id",
            "queryName": "getById",
            "url": "http://localhost:"${port}"/coops/graph"
          }
        ]
      }},
    {
      "path": "/coops/graph",
      "mongo": ${mongos.coops},
      "schema": "test/graph/coops.graphql",
      "dtoConfig": {
        "singletons": [
          {
            "name": "getById",
            "id": "id",
            "query": "{\"id\": \"${id}\"}"
          }
        ],
        "scalars": [
          {
            "name": "getByFarm",
            "id": "id",
            "query": "{\"payload.farm_id\": \"${id}\"}"
          }
        ]
      },
        "resolvers": [
          {
            "name": "hens",
            "id": "id",
            "queryName": "getByCoop",
            "url": "http://localhost:"${port}"/hens/graph"
          },
          {
            "name": "farms",
            "id": "id",
            "queryName": "getById",
            "url": "http://localhost:"${port}"/farms/graph"
          }
        ]
    },
    {
      "path": "/farms/graph",
      "mongo": ${mongos."farms"},
      "schema": "test/graph/farms.graphql",
      "dtoConfig": {
        "singletons": [
          {
            "name": "getById",
            "id": "id",
            "query": "{\"id\": \"${id}\"}"
          },
          {
            "name": "getByName",
            "id": "name",
            "query": "{\"payload.name\": \"${id}\"}"
          }
        ],
        "resolvers": [
          {
            "name": "coops",
            "id": "id",
            "queryName": "getByFarm",
            "url": "http://localhost:"${port}"/coops/graph"
          }
        ]
      }
    }
  ]
  "restlettes": [
    {
      "path": "/hens/api",
      "mongo": ${mongos.hens},
      "schema": "test/json/hen.schema.json"
    },
    {
      "path": "/coops/api",
      "mongo": ${mongos.coops},
      "schema": "test/json/coop.schema.json"
    },
    {
      "path": "/farms/api",
      "mongo": ${mongos.farms},
      "schema": "test/json/farm.schema.json"
    }
  ]
}